## **0x09-子域劫持**

>作者：Peter Yaworski
>
>譯者：飛龍
>
>協議：[CC BY-NC-SA 4.0](http://creativecommons.org/licenses/by-nc-sa/4.0/)

## **描述**
子域控制就真的是聽上去那樣，它是一種場景，惡意用戶能夠代表合法站點來申請一個子域。總之，這一類型的漏洞涉及站點為子域創建 DNS 記錄，例如，Heroku（主機商），並且從未申請過該子域。

1. `example.com`在Heroku 上註冊。
<p>

2. `example.com`創建 DNS 記錄`subdomain.example.com`，指向`unicorn457.heroku.com`。
<p>

3. `example.com`沒有申請`unicorn457.heroku.com`。
<p>

4. 惡意用戶申請了`unicorn457.heroku.com`，並覆制了`example.com`。
<p>

5. 所有`subdomain.example.com`的流量都會流經惡意網站，它看上去類似`example.com`。
<p>

所以，按照這個邏輯，DNS 條目需要指向未申請的外部服務，例如 Heroku，Github 和 Amazon S3。發現它們的一個不錯的方法是使用 KnockPy，它會在工具一節中討論，它叠代了子域的常見列表來驗證是否存在。

