## **1.1. Web發展簡史**

### **1.1.1. 靜態頁面**
在最開始的時候，網站的主要內容是靜態的，由文字和圖片組成，制作形式也是以表格為主。當時的用戶行為也非常簡單，僅僅是瀏覽網頁。

### **1.1.2. 多媒體階段**
隨著技術的不斷發展，音頻、視頻、flash等多媒體誕生了。多媒體的加入使得網頁變得更加生動形象，網頁上的交互也給用戶帶來了很好的體驗。

### **1.1.3. CGI階段**
漸漸的，多媒體已經不能滿足人們的請求，於是CGI（Common Gateway Interface）應運而生。CGI定義了Web服務器與外部應用程序之間的通信接口標準，因此Web服務器可以通過CGI執行外部程序，讓外部程序根據Web請求內容生成動態的內容。

在這個時候，各種編程語言如PHP/ASP/JSP也逐漸加入市場，基於這些語言可以實現更加模塊化的、功能更強大的應用程序。

### **1.1.4. Ajax**
在開始的時候，用戶提交整個表單後才能獲取結果，用戶體驗極差。於是Ajax（Asynchronous Javascript And XML，異步JavaScript和XML）技術逐漸流行起來，它使得應用在不更新整個頁面的前提下維護資料。這使得Web應用程序更為迅捷地回應用戶動作，並避免了在網絡上發送那些沒有改變的信息。

### **1.1.5. MVC**
隨著Web應用開發越來越標準化，出現了MVC等思想。MVC是Model/View/Control的縮寫，Model用於封裝資料和資料處理方法，視圖View是資料的HTML展現，控制器Controller負責響應請求，協調Model和View。

Model，View和Controller的分開，是一種典型的關註點分離的思想，使得代碼覆用性和組織性更好，Web應用的配置性和靈活性也越來越好。而資料訪問也逐漸通過面向對象的方式來替代直接的SQL訪問，出現了ORM（Object Relation Mapping）的概念。

### **1.1.6. RESTful**
再後來，REST（Representation State Transformation）也成為一種流行的Web架構風格。REST鼓勵基於URL來組織系統功能，充分利用HTTP本身的語義，而不是僅僅將HTTP作為一種遠程資料傳輸協議。

---

## **1.2. 計算機網絡**
### **1.2.1. 計算機通信網的組成**

計算機網絡由通信子網和資源子網組成。

其中通信子網負責資料的無差錯和有序傳遞，其處理功能包括差錯控制、流量控制、路由選擇、網絡互連等。

其中資源子網： 是計算機通信的本地系統環境，包括主機、終端和應用程序等， 資源子網的主要功能是用戶資源配置、資料的處理和管理、軟件和硬件共享以及負載 均衡等。

計算機通信網就是一個由通信子網承載的、傳輸和共享資源子網的各類信息的系統。

### **1.2.2. 通信協議**
為了完成計算機之間有序的信息交換，提出了通信協議的概念，其定義是相互通信的雙方（或多方）對如何進行信息交換所必須遵守的一整套規則。

協議涉及到三個要素，分別為：

- 語法：語法是用戶資料與控制信息的結構與格式，以及資料出現順序的意義
- 語義：用於解釋比特流的每一部分的意義
- 時序：事件實現順序的詳細說明

## 1.2.3. OSI七層模型

![1](https://raw.githubusercontent.com/dyeat/Document_read/master/Web%E5%AE%89%E5%85%A8%E5%AD%B8%E7%BF%92%E7%AD%86%E8%A8%98/image/1-2-1.jpg)

### **1.2.3.1. 簡介**
OSI（Open System Interconnection）共分為實體層、資料連結層、網路層、傳輸層、會議層、表達層、應用層七層，其具體的功能如下。

### **1.2.3.2. 實體層**
- 提供建立、維護和釋放物理鏈路所需的機械、電氣功能和規程等特性
- 通過傳輸介質進行資料流(比特流)的物理傳輸、故障監測和實體層管理
- 從資料連結層接收幀，將比特流轉換成底層物理介質上的信號

### **1.2.3.3. 資料連結層**
- 在物理鏈路的兩端之間傳輸資料
- 在網路層實體間提供資料傳輸功能和控制
- 提供資料的流量控制
- 檢測和糾正物理鏈路產生的差錯
- 格式化的消息稱為幀

### **1.2.3.4. 網路層**
- 負責端到端的資料的路由或交換，為透明地傳輸資料建立連接
- 尋址並解決與資料在異構網絡間傳輸相關的所有問題
- 使用上面的傳輸層和下面的資料連結層的功能
- 格式化的消息稱為分組

### **1.2.3.5. 傳輸層**
- 提供無差錯的資料傳輸
- 接收來自會議層的資料，如果需要，將資料分割成更小的分組，向網路層傳送分組並確保分組完整和正確到達它們的目的地
- 在系統之間提供可靠的透明的資料傳輸,提供端到端的錯誤恢覆和流量控制

### **1.2.3.6. 會議層**
- 提供節點之間通信過程的協調
- 負責執行會話規則（如：連接是否允許半雙工或全雙工通信）、同步資料流以及當故障發生時重新建立連接
- 使用上面的表達層和下面的傳輸層的功能

### **1.2.3.7. 表達層**
- 提供資料格式、變換和編碼轉換
- 涉及正在傳輸資料的語法和語義
- 將消息以合適電子傳輸的格式編碼
- 執行該層的資料壓縮和加密
- 從應用層接收消息，轉換格式，並傳送到會議層，該層常合並在應用層中

### **1.2.3.8. 應用層**
- 包括各種協議，它們定義了具體的面向擁護的應用：如電子郵件、文件傳輸等

### **1.2.3.9. 總結**
低三層模型屬於通信子網，涉及為用戶間提供透明連接，操作主要以每條鏈路（ hop-by-hop）為基礎，在節點間的各條資料鏈路上進行通信。由網路層來控制各條鏈路上的通信，但要依賴於其他節點的協調操作。

高三層屬於資源子網，主要涉及保證信息以正確可理解形式傳送。

傳輸層是高三層和低三層之間的接口，它是第一個端到端的層次，保證透明的端到端連接，滿足用戶的服務質量（ QoS）要求，並向高三層提供合適的信息形式。

---

## **1.3. 域名系統**
### **1.3.1. 域名系統工作原理**

DNS解析過程是遞歸查詢的，具體過程如下：

- 用戶要訪問域名www.example.com 時，先查看本機hosts是否有記錄或者本機是否有DNS緩存，如果有，直接返回結果，否則向遞歸服務器查詢該域名的IP地址 遞歸緩存為空時，首先向根服務器查詢com頂級域的IP地址
- 根服務器告知遞歸服務器com頂級域名服務器的IP地址
- 遞歸向com頂級域名服務器查詢負責example.com的權威服務器的IP
- com頂級域名服務器返回相應的IP地址
- 遞歸向example.com的權威服務器查詢www.example.com 的地址記錄
- 權威服務器告知www.example.com 的地址記錄
- 遞歸服務器將查詢結果返回客戶端

### **1.3.2. 根服務器**

根服務器是DNS的核心，負責互聯網頂級域名的解析，用於維護域的權威信息，並將DNS查詢引導到相應的域名服務器。

根服務器在域名樹中代表最頂級的 `.` 域， 一般省略。

13台IPv4根服務器的域名標號為a到m，即a.root-servers.org到m.root-servers.org，所有服務器存儲的資料相同，僅包含ICANN批準的TLD域名權威信息。

### **1.3.3. 權威服務器**
權威服務器上存儲域名Zone文件，維護域內域名的權威信息，遞歸服務器可以從權威服務器獲得DNS查詢的資源記錄。

權威服務器需要在所承載的域名所屬的TLD管理局註冊，同一個權威服務器可以承載不同TLD域名，同一個域也可以有多個權威服務器。

### **1.3.4. 遞歸服務器**
遞歸服務器負責接收用戶的查詢請求，進行遞歸查詢並相應用戶查詢請求。在初始時遞歸服務器僅有記錄了根域名的Hint文件。

### **1.3.5. DGA**
DGA（Domain Generate Algorithm，域名生成算法）是一種利用隨機字符來生成C&C域名，從而逃避域名黑名單檢測的技術手段，常見於botnet中。

### **1.3.6. DNS隧道**
DNS隧道工具將進入隧道的其他協議流量封裝到DNS協議內，在隧道上傳輸。這些資料包出隧道時進行解封裝，還原資料。